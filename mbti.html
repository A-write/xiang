<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTIæ€§æ ¼æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 100%;
            padding: 20px;
            width: 100%;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .btn {
            background: #ff4081;
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 #c60055, 0 8px 15px rgba(0,0,0,0.3);
            transition: all 0.2s;
            margin: 10px;
            font-weight: bold;
            position: relative;
            z-index: 10;
        }
        
        .btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #c60055, 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 9999;
        }
        
        /* MBTIæµ‹è¯•éƒ¨åˆ†æ ·å¼ */
        .mbti-test {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .question-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .question {
            font-size: 1.3rem;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: rgba(255, 215, 0, 0.3);
            border-color: #ffd700;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #ffd700;
            width: 0%;
            transition: width 0.5s;
        }
        
        .result-container {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .result-title {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #ffd700;
        }
        
        .result-type {
            font-size: 3rem;
            font-weight: bold;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .result-description {
            text-align: left;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .restart-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 1.1rem;
            cursor: pointer;
        }
        
        .question-counter {
            margin-bottom: 10px;
            font-size: 1.1rem;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- MBTIæµ‹è¯•éƒ¨åˆ† -->
    <div class="mbti-test" id="mbtiTest">
        <h1>MBTIæ€§æ ¼æµ‹è¯•</h1>
        <p>è¯·æ ¹æ®ä½ çš„çœŸå®æƒ…å†µé€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹</p>
        
        <div class="question-counter" id="questionCounter">ç¬¬1é¢˜/å…±16é¢˜</div>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <div class="question-container" id="questionContainer">
            <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
        </div>
        
        <button class="btn" id="nextBtn" style="display:none;">ä¸‹ä¸€é¢˜</button>
        <button class="btn" id="submitBtn" style="display:none;">æŸ¥çœ‹ç»“æœ</button>
    </div>
    
    <!-- æµ‹è¯•ç»“æœéƒ¨åˆ† -->
    <div class="result-container" id="resultContainer">
        <!-- ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
    </div>
    
    <script>
        // è·å–DOMå…ƒç´ 
        const mbtiTest = document.getElementById('mbtiTest');
        const questionContainer = document.getElementById('questionContainer');
        const questionCounter = document.getElementById('questionCounter');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const progress = document.getElementById('progress');
        const resultContainer = document.getElementById('resultContainer');
        
        let currentQuestion = 0;
        let answers = [];
        
        // MBTIæµ‹è¯•é¢˜ç›® - 16é“é¢˜ï¼Œæ¯é“é¢˜4ä¸ªé€‰é¡¹
        const questions = [
            {
                question: "å½“ä½ åœ¨ä¸€ä¸ªèšä¼šä¸Šï¼Œä½ é€šå¸¸ï¼š",
                options: [
                    { text: "ä¸»åŠ¨ä¸ä¸åŒçš„äººäº¤è°ˆï¼Œè®¤è¯†æ–°æœ‹å‹", type: "E" },
                    { text: "ä¸»è¦å’Œç†Ÿæ‚‰çš„æœ‹å‹èŠå¤©", type: "I" },
                    { text: "è§‚å¯Ÿå‘¨å›´çš„äººå’Œäº‹ï¼Œå¶å°”å‚ä¸å¯¹è¯", type: "I" },
                    { text: "æˆä¸ºè°ˆè¯çš„ä¸­å¿ƒï¼Œå¸¦åŠ¨æ°”æ°›", type: "E" }
                ]
            },
            {
                question: "ä½ çš„æœ‹å‹çªç„¶å–æ¶ˆå‘¨æœ«è®¡åˆ’ï¼Œä½ ä¼šï¼š",
                options: [
                    { text: "ç«‹å³è”ç³»å…¶ä»–æœ‹å‹ï¼Œå®‰æ’æ–°çš„æ´»åŠ¨", type: "E" },
                    { text: "äº«å—æ„å¤–çš„ç‹¬å¤„æ—¶é—´ï¼Œåšè‡ªå·±å–œæ¬¢çš„äº‹", type: "I" },
                    { text: "æœ‰äº›å¤±æœ›ï¼Œä½†å¾ˆå¿«æ‰¾åˆ°æ›¿ä»£æ–¹æ¡ˆ", type: "P" },
                    { text: "é‡æ–°è§„åˆ’æ—¶é—´è¡¨ï¼Œç¡®ä¿å‘¨æœ«ä¸è™šåº¦", type: "J" }
                ]
            },
            {
                question: "å·¥ä½œä¸­æ¥åˆ°ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä½ é¦–å…ˆä¼šï¼š",
                options: [
                    { text: "åˆ¶å®šè¯¦ç»†çš„æ—¶é—´è¡¨å’Œæ­¥éª¤", type: "J" },
                    { text: "å¤´è„‘é£æš´å„ç§å¯èƒ½çš„åˆ›æ„å’Œæ–¹å‘", type: "N" },
                    { text: "æ”¶é›†æ‰€æœ‰ç›¸å…³èµ„æ–™å’Œæ•°æ®", type: "S" },
                    { text: "ä¸å›¢é˜Ÿæˆå‘˜è®¨è®ºåˆ†å·¥å’Œæƒ³æ³•", type: "E" }
                ]
            },
            {
                question: "å½“æœ‹å‹å‘ä½ å€¾è¯‰æ„Ÿæƒ…é—®é¢˜ï¼Œä½ ä¼šï¼š",
                options: [
                    { text: "åˆ†æé—®é¢˜çš„æ ¹æºï¼Œæä¾›ç†æ€§å»ºè®®", type: "T" },
                    { text: "æ„ŸåŒèº«å—ï¼Œç»™äºˆæƒ…æ„Ÿæ”¯æŒ", type: "F" },
                    { text: "åˆ†äº«ç±»ä¼¼ç»å†ï¼Œè¡¨ç¤ºç†è§£", type: "F" },
                    { text: "å¸®åŠ©æœ‹å‹çœ‹æ¸…å„ç§é€‰æ‹©çš„åˆ©å¼Š", type: "T" }
                ]
            },
            {
                question: "ä½ æ­£åœ¨å‡†å¤‡ä¸€ä¸ªé‡è¦ä¼šè®®ï¼Œçªç„¶å‘ç°ææ–™æœ‰è¯¯ï¼Œä½ ä¼šï¼š",
                options: [
                    { text: "ç«‹å³ä¿®æ­£é”™è¯¯ï¼Œç¡®ä¿ä¼šè®®é¡ºåˆ©è¿›è¡Œ", type: "J" },
                    { text: "å¿«é€Ÿæ€è€ƒå¦‚ä½•è°ƒæ•´æ¼”è®²å†…å®¹", type: "P" },
                    { text: "å¯»æ±‚åŒäº‹å¸®åŠ©ï¼Œå…±åŒè§£å†³é—®é¢˜", type: "E" },
                    { text: "è¯„ä¼°å½±å“ç¨‹åº¦ï¼Œå†³å®šæ˜¯å¦æ¨è¿Ÿä¼šè®®", type: "T" }
                ]
            },
            {
                question: "åœ¨è§„åˆ’æ—…è¡Œæ—¶ï¼Œä½ æ›´å€¾å‘äºï¼š",
                options: [
                    { text: "åˆ¶å®šè¯¦ç»†çš„è¡Œç¨‹è¡¨ï¼ŒåŒ…æ‹¬æ¯ä¸ªæ™¯ç‚¹", type: "J" },
                    { text: "åªè®¢æœºç¥¨é…’åº—ï¼Œå…¶ä½™éšæ€§å®‰æ’", type: "P" },
                    { text: "ç ”ç©¶å½“åœ°æ–‡åŒ–ï¼Œå¯»æ‰¾ç‹¬ç‰¹ä½“éªŒ", type: "N" },
                    { text: "å‚è€ƒä»–äººè¯„ä»·ï¼Œé€‰æ‹©çƒ­é—¨æ™¯ç‚¹", type: "S" }
                ]
            },
            {
                question: "å½“å›¢é˜Ÿæ„è§åˆ†æ­§æ—¶ï¼Œä½ é€šå¸¸ä¼šï¼š",
                options: [
                    { text: "åˆ†æå„æ–¹è§‚ç‚¹ï¼Œå¯»æ‰¾æœ€ä¼˜è§£", type: "T" },
                    { text: "å…³æ³¨å›¢é˜Ÿå’Œè°ï¼Œè°ƒè§£çŸ›ç›¾", type: "F" },
                    { text: "æå‡ºåˆ›æ–°æ–¹æ¡ˆï¼Œæ‰“ç ´åƒµå±€", type: "N" },
                    { text: "åŸºäºè¿‡å¾€ç»éªŒï¼Œæä¾›å®é™…å»ºè®®", type: "S" }
                ]
            },
            {
                question: "ä½ çš„å­¦ä¹ æ–¹å¼æ›´æ¥è¿‘ï¼š",
                options: [
                    { text: "æŒ‰éƒ¨å°±ç­ï¼Œå¾ªåºæ¸è¿›æŒæ¡çŸ¥è¯†", type: "S" },
                    { text: "è·³è·ƒå¼å­¦ä¹ ï¼Œå…ˆæŠŠæ¡æ•´ä½“æ¡†æ¶", type: "N" },
                    { text: "ä¸ä»–äººè®¨è®ºï¼ŒåŠ æ·±ç†è§£", type: "E" },
                    { text: "ç‹¬è‡ªé’»ç ”ï¼Œåå¤æ€è€ƒ", type: "I" }
                ]
            },
            {
                question: "é¢å¯¹ä¸€ä¸ªå¤æ‚é—®é¢˜ï¼Œä½ é€šå¸¸ï¼š",
                options: [
                    { text: "åˆ†è§£é—®é¢˜ï¼Œé€ä¸€è§£å†³", type: "S" },
                    { text: "å¯»æ‰¾æ¨¡å¼ï¼Œä»æ•´ä½“ä¸Šç†è§£", type: "N" },
                    { text: "å’¨è¯¢ä¸“å®¶æˆ–æŸ¥é˜…èµ„æ–™", type: "T" },
                    { text: "è€ƒè™‘å„ç§å¯èƒ½æ€§ï¼Œä¸æ€¥äºä¸‹ç»“è®º", type: "P" }
                ]
            },
            {
                question: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ æ›´æ„¿æ„æ‰®æ¼”çš„è§’è‰²æ˜¯ï¼š",
                options: [
                    { text: "ç»„ç»‡è€…ï¼Œç¡®ä¿ä»»åŠ¡æŒ‰æ—¶å®Œæˆ", type: "J" },
                    { text: "åˆ›æ„è€…ï¼Œæä¾›æ–°æ€è·¯", type: "N" },
                    { text: "åè°ƒè€…ï¼Œä¿ƒè¿›å›¢é˜Ÿåˆä½œ", type: "F" },
                    { text: "æ‰§è¡Œè€…ï¼Œä¸“æ³¨äºå…·ä½“ä»»åŠ¡", type: "S" }
                ]
            },
            {
                question: "å½“ä½ çš„è®¡åˆ’è¢«æ‰“ä¹±æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼š",
                options: [
                    { text: "æ„Ÿåˆ°çƒ¦èºï¼ŒåŠªåŠ›å›å½’åŸè®¡åˆ’", type: "J" },
                    { text: "çµæ´»è°ƒæ•´ï¼Œå¯»æ‰¾æ–°æœºä¼š", type: "P" },
                    { text: "åˆ†æåŸå› ï¼Œé˜²æ­¢å†æ¬¡å‘ç”Ÿ", type: "T" },
                    { text: "æ¥å—ç°å®ï¼Œå¯»æ‰¾ç§¯æé¢", type: "F" }
                ]
            },
            {
                question: "ä½ æ›´å–œæ¬¢çš„å·¥ä½œç¯å¢ƒæ˜¯ï¼š",
                options: [
                    { text: "å¼€æ”¾ã€äº’åŠ¨çš„å›¢é˜Ÿç©ºé—´", type: "E" },
                    { text: "å®‰é™ã€ç‹¬ç«‹çš„ä¸ªäººåŠå…¬å®¤", type: "I" },
                    { text: "çµæ´»ã€è‡ªä¸»çš„å·¥ä½œå®‰æ’", type: "P" },
                    { text: "ç»“æ„æ¸…æ™°ã€æµç¨‹è§„èŒƒçš„ç¯å¢ƒ", type: "J" }
                ]
            },
            {
                question: "åšé‡è¦å†³å®šæ—¶ï¼Œä½ ä¸»è¦ä¾èµ–ï¼š",
                options: [
                    { text: "é€»è¾‘åˆ†æå’Œå®¢è§‚æ•°æ®", type: "T" },
                    { text: "ä¸ªäººä»·å€¼è§‚å’Œæ„Ÿå—", type: "F" },
                    { text: "è¿‡å»çš„ç»éªŒå’Œäº‹å®", type: "S" },
                    { text: "ç›´è§‰å’Œæœªæ¥å¯èƒ½æ€§", type: "N" }
                ]
            },
            {
                question: "åœ¨ç¤¾äº¤ç½‘ç»œä¸Šï¼Œä½ é€šå¸¸ï¼š",
                options: [
                    { text: "ç»å¸¸åˆ†äº«ç”Ÿæ´»ç‚¹æ»´å’Œæƒ³æ³•", type: "E" },
                    { text: "å¶å°”å‘å¸ƒé‡è¦äº‹ä»¶å’Œæ€è€ƒ", type: "I" },
                    { text: "ä¸»è¦æµè§ˆï¼Œå¾ˆå°‘ä¸»åŠ¨å‘å¸ƒ", type: "I" },
                    { text: "ç§¯æå‚ä¸è®¨è®ºå’Œäº’åŠ¨", type: "E" }
                ]
            },
            {
                question: "å½“é¢å¯¹æ‰¹è¯„æ—¶ï¼Œä½ é€šå¸¸ä¼šï¼š",
                options: [
                    { text: "ç†æ€§åˆ†ææ‰¹è¯„çš„åˆç†æ€§", type: "T" },
                    { text: "å…³æ³¨æ‰¹è¯„å¸¦æ¥çš„æƒ…æ„Ÿå½±å“", type: "F" },
                    { text: "ç«‹å³æ€è€ƒå¦‚ä½•æ”¹è¿›", type: "J" },
                    { text: "ä¿æŒå¼€æ”¾æ€åº¦ï¼Œä½†ä¸æ€¥äºæ”¹å˜", type: "P" }
                ]
            },
            {
                question: "ä½ çš„ç†æƒ³å‘¨æœ«æ˜¯ï¼š",
                options: [
                    { text: "ä¸æœ‹å‹èšä¼šï¼Œå‚åŠ ç¤¾äº¤æ´»åŠ¨", type: "E" },
                    { text: "åœ¨å®¶ä¼‘æ¯ï¼Œäº«å—ä¸ªäººæ—¶å…‰", type: "I" },
                    { text: "å°è¯•æ–°äº‹ç‰©ï¼Œæ¢ç´¢æœªçŸ¥é¢†åŸŸ", type: "N" },
                    { text: "å®Œæˆè®¡åˆ’ä¸­çš„ä»»åŠ¡å’Œçˆ±å¥½", type: "J" }
                ]
            }
        ];
        
        // MBTIç±»å‹æè¿°
        const mbtiDescriptions = {
            "ISTJ": "åŠ¡å®ã€æœ‰æ¡ç†ã€è´Ÿè´£ä»»ï¼Œæ³¨é‡ç»†èŠ‚å’Œä¼ ç»Ÿã€‚ä½ æ˜¯å¯é å’Œå€¼å¾—ä¿¡èµ–çš„äººï¼Œå–œæ¬¢æŒ‰è®¡åˆ’è¡Œäº‹ã€‚",
            "ISFJ": "æ¸©æš–ã€ä½“è´´ã€å°½è´£ï¼Œå…³å¿ƒä»–äººçš„éœ€æ±‚ã€‚ä½ éå¸¸é‡è§†å’Œè°çš„äººé™…å…³ç³»ã€‚",
            "INFJ": "å¯Œæœ‰æ´å¯ŸåŠ›ã€ç†æƒ³ä¸»ä¹‰ï¼Œè‡´åŠ›äºå¸®åŠ©ä»–äººæˆé•¿ã€‚ä½ æœ‰å¾ˆå¼ºçš„ç›´è§‰å’ŒåŒæƒ…å¿ƒã€‚",
            "INTJ": "æˆ˜ç•¥å®¶ã€ç‹¬ç«‹ã€æœ‰è¿œè§ï¼Œå–„äºåˆ¶å®šé•¿æœŸè®¡åˆ’ã€‚ä½ æ“…é•¿çœ‹åˆ°å…¨å±€å’Œæœªæ¥å¯èƒ½æ€§ã€‚",
            "ISTP": "çµæ´»ã€åŠ¡å®ã€å–œæ¬¢åŠ¨æ‰‹è§£å†³é—®é¢˜ã€‚ä½ æ“…é•¿åœ¨å±æœºä¸­ä¿æŒå†·é™ã€‚",
            "ISFP": "æ¸©å’Œã€æ•æ„Ÿã€è‰ºæœ¯æ°”è´¨ï¼Œäº«å—å½“ä¸‹æ—¶åˆ»ã€‚ä½ é‡è§†ä¸ªäººä»·å€¼è§‚å’Œå®¡ç¾ã€‚",
            "INFP": "ç†æƒ³ä¸»ä¹‰ã€å¿ è¯šäºè‡ªå·±çš„ä»·å€¼è§‚ï¼Œå¯Œæœ‰åˆ›é€ åŠ›ã€‚ä½ æ¸´æœ›è®©ä¸–ç•Œå˜å¾—æ›´ç¾å¥½ã€‚",
            "INTP": "é€»è¾‘ã€å¥½å¥‡ã€ç‹¬ç«‹æ€è€ƒï¼Œå–œæ¬¢ç†è®ºåˆ†æã€‚ä½ å–„äºå‘ç°æ¨¡å¼å’Œè”ç³»ã€‚",
            "ESTP": "ç²¾åŠ›å……æ²›ã€å–œæ¬¢å†’é™©ï¼Œå–„äºåº”å¯¹çªå‘äº‹ä»¶ã€‚ä½ äº«å—æ´»åœ¨å½“ä¸‹ã€‚",
            "ESFP": "æ´»æ³¼ã€çƒ­æƒ…ã€å–œæ¬¢å¨±ä¹å’Œä¸äººäº¤å¾€ã€‚ä½ æ“…é•¿è¥é€ æ¬¢ä¹æ°›å›´ã€‚",
            "ENFP": "çƒ­æƒ…ã€å¯Œæœ‰æƒ³è±¡åŠ›ï¼Œèƒ½çœ‹åˆ°å„ç§å¯èƒ½æ€§ã€‚ä½ å……æ»¡æ¿€æƒ…å’Œåˆ›é€ åŠ›ã€‚",
            "ENTP": "èªæ˜ã€åˆ›æ–°ã€å–œæ¬¢è¾©è®ºå’Œæ™ºåŠ›æŒ‘æˆ˜ã€‚ä½ å–„äºçœ‹åˆ°é—®é¢˜çš„å¤šä¸ªè§’åº¦ã€‚",
            "ESTJ": "åŠ¡å®ã€æœæ–­ã€å–„äºç»„ç»‡å’Œæ‰§è¡Œã€‚ä½ é‡è§†æ•ˆç‡å’Œç§©åºã€‚",
            "ESFJ": "å‹å–„ã€å°½è´£ã€é‡è§†å’Œè°çš„äººé™…å…³ç³»ã€‚ä½ æ“…é•¿ç…§é¡¾ä»–äººéœ€æ±‚ã€‚",
            "ENFJ": "æœ‰é­…åŠ›ã€æœ‰åŒæƒ…å¿ƒï¼Œå–„äºæ¿€åŠ±ä»–äººã€‚ä½ å¤©ç”Ÿå…·æœ‰é¢†å¯¼æ‰èƒ½ã€‚",
            "ENTJ": "æœæ–­ã€æˆ˜ç•¥æ€ç»´ï¼Œå¤©ç”Ÿçš„é¢†å¯¼è€…ã€‚ä½ æ“…é•¿ç»„ç»‡å’Œæ‰§è¡Œå¤æ‚è®¡åˆ’ã€‚"
        };
        
        // é¡µé¢åŠ è½½åç›´æ¥æ˜¾ç¤ºç¬¬ä¸€é¢˜
        window.onload = function() {
            showQuestion(0);
        };
        
        // ä¸‹ä¸€é¢˜æŒ‰é’®
        nextBtn.addEventListener('click', function() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
            }
        });
        
        // æäº¤ç­”æ¡ˆ
        submitBtn.addEventListener('click', function() {
            calculateResult();
        });
        
        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            const question = questions[index];
            questionContainer.innerHTML = `
                <div class="question">${question.question}</div>
                <div class="options">
                    ${question.options.map((option, i) => `
                        <div class="option" data-type="${option.type}">${String.fromCharCode(65 + i)}. ${option.text}</div>
                    `).join('')}
                </div>
            `;
            
            // æ›´æ–°è¿›åº¦æ¡å’Œè®¡æ•°å™¨
            progress.style.width = `${((index + 1) / questions.length) * 100}%`;
            questionCounter.textContent = `ç¬¬${index + 1}é¢˜/å…±${questions.length}é¢˜`;
            
            // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            const options = questionContainer.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    options.forEach(opt => opt.classList.remove('selected'));
                    // æ ‡è®°å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­
                    this.classList.add('selected');
                    // ä¿å­˜ç­”æ¡ˆ
                    answers[index] = this.getAttribute('data-type');
                    // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
                    nextBtn.style.display = 'inline-block';
                });
            });
            
            // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºæäº¤æŒ‰é’®
            if (index === questions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
            }
        }
        
        // è®¡ç®—MBTIç»“æœ
        function calculateResult() {
            // ç»Ÿè®¡æ¯ä¸ªç»´åº¦çš„é€‰æ‹©
            const dimensions = {
                'E': 0, 'I': 0,
                'S': 0, 'N': 0,
                'T': 0, 'F': 0,
                'J': 0, 'P': 0
            };
            
            answers.forEach(answer => {
                if (answer) dimensions[answer]++;
            });
            
            // ç¡®å®šæ¯ä¸ªç»´åº¦çš„å€¾å‘
            const mbtiType = 
                (dimensions['E'] > dimensions['I'] ? 'E' : 'I') +
                (dimensions['S'] > dimensions['N'] ? 'S' : 'N') +
                (dimensions['T'] > dimensions['F'] ? 'T' : 'F') +
                (dimensions['J'] > dimensions['P'] ? 'J' : 'P');
            
            // æ˜¾ç¤ºç»“æœ
            showResult(mbtiType);
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResult(type) {
            mbtiTest.style.display = 'none';
            resultContainer.style.display = 'block';
            
            resultContainer.innerHTML = `
                <div class="result-title">ä½ çš„MBTIæ€§æ ¼ç±»å‹æ˜¯</div>
                <div class="result-type">${type}</div>
                <div class="result-description">
                    <p><strong>${type}å‹äººæ ¼ç‰¹ç‚¹ï¼š</strong> ${mbtiDescriptions[type]}</p>
                    <p>MBTIæ˜¯ä¸€ç§äººæ ¼ç±»å‹æŒ‡æ ‡ï¼Œå°†äººçš„æ€§æ ¼åˆ†ä¸º16ç§ç±»å‹ã€‚è¿™ä¸ªæµ‹è¯•ä»…ä¾›å‚è€ƒï¼ŒçœŸæ­£çš„æ€§æ ¼æ˜¯å¤æ‚å¤šæ ·çš„ã€‚</p>
                    <p>è±†è…éƒ½æœ‰è„‘å­ğŸ§ ï¼Œå°±ä½ æ²¡æœ‰</p>
                    <p>ä½ æ˜¯ä¸€ä¸ªè€å…‰æ£ï¼Œåˆè€åˆå†°ğŸ§Šåˆå…‰æ£ã€‚</p>
                </div>
                <button class="restart-btn" id="restartBtn">é‡æ–°æµ‹è¯•</button>
            `;
            
            // æ·»åŠ é‡æ–°æµ‹è¯•æŒ‰é’®äº‹ä»¶
            document.getElementById('restartBtn').addEventListener('click', function() {
                location.reload();
            });
            
            // åˆ›å»ºå½©è‰²çº¸å±‘æ•ˆæœ
            createConfetti();
        }
        
        // åˆ›å»ºçº¸å±‘æ•ˆæœ
        function createConfetti() {
            const colors = ['#f94144', '#f3722c', '#f8961e', '#f9c74f', '#90be6d', '#43aa8b', '#577590'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.opacity = '1';
                document.body.appendChild(confetti);
                
                // åŠ¨ç”»
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 3000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                });
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }
    </script>
</body>
</html>